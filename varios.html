<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Varios ‚Äì BHALLEFFORT | Tienda Online Ecuador</title>
  <meta name="description" content="Art√≠culos varios al mejor precio en Ecuador. Env√≠os a todo el pa√≠s.">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="https://jhomac2.github.io/bhalleffort-store/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --celeste: #87ceeb;
      --morado: #4c0d8c;
      --turquesa: #00c8c8;
      --turquesaOsc: #009e9e;
      --texto: #222;
      --fondo: #f5f7fa;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Poppins', system-ui, Arial;
    }

    body {
      background: var(--fondo);
      color: var(--texto);
      line-height: 1.6;
    }

    img {
      max-width: 100%;
      display: block;
    }

    .container {
      width: 90%;
      max-width: 1200px;
      margin: auto;
    }

    .flex-space {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    /* TOP BAR */
    .top-bar {
      background: var(--morado);
      color: #fff;
      font-size: 13px;
      padding: 6px 0;
    }

    .top-bar .social-icons {
      display: flex;
      gap: 12px;
      font-size: 16px;
    }

    .top-bar .social-icons a {
      color: #fff;
      text-decoration: none;
      transition: 0.3s;
    }

    /* HEADER */
    .main-header {
      padding: 15px 0;
      background: #fff;
      box-shadow: 0 2px 4px rgba(0,0,0,.1);
    }

    .logo-section {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .whale-icon {
      width: 50px;
      border: 2px solid var(--morado);
      border-radius: 50%;
    }

    .brand-text h1 {
      font-size: 22px;
      color: var(--morado);
      line-height: 1;
    }

    .brand-text p {
      font-size: 13px;
      color: var(--morado);
      opacity: .8;
    }

    .dual-buttons {
      display: flex;
      gap: 1rem;
      justify-content: center;
      margin: 1rem 0;
      flex-wrap: wrap;
    }

    .btn-rifas, .btn-wa {
      padding: .8rem 1.5rem;
      border-radius: 8px;
      font-weight: 700;
      text-decoration: none;
      color: #fff;
      box-shadow: 0 3px 6px rgba(0,0,0,.2);
      transition: 0.3s;
    }

    .btn-rifas { background: #ff6600; }
    .btn-wa { background: #25d366; }

    /* NAV */
    .main-nav {
      position: sticky;
      top: 0;
      z-index: 999;
      background: #fff;
      box-shadow: 0 2px 10px rgba(0,0,0,.1);
    }

    .main-nav ul {
      list-style: none;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
    }

    .main-nav a {
      color: var(--morado);
      padding: 12px 15px;
      display: block;
      font-size: 14px;
      text-decoration: none;
      font-weight: 600;
      transition: 0.3s;
    }

    .main-nav a.active {
      background: var(--morado);
      color: #fff;
    }

    /* HERO */
    .hero-banner {
      position: relative;
      background: url('https://images.unsplash.com/photo-1523275335684-37898b6baf30?q=80&w=2099&auto=format&fit=crop') center/cover no-repeat;
      height: 400px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      color: #fff;
    }

    .hero-banner::before {
      content: "";
      position: absolute;
      top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.4);
      z-index: 1;
    }

    .hero-banner div { position: relative; z-index: 2; }
    .hero-banner h1 { font-size: 48px; font-weight: 800; text-shadow: 3px 3px 10px rgba(0,0,0,0.5); }
    .hero-banner p { font-size: 20px; margin-top: 10px; }

    /* LUPA Y CARRITO */
    #cart-icon {
      position: fixed; top: 20px; right: 20px; background: #fff; border-radius: 50%;
      width: 55px; height: 55px; display: flex; align-items: center; justify-content: center;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2); cursor: pointer; z-index: 1000;
    }

    #cart-badge {
      background: var(--turquesa); color: #fff; border-radius: 50%;
      padding: 3px 8px; font-size: 12px; position: absolute; top: -5px; right: -5px;
    }

    #btn-lupa {
      position: fixed; top: 85px; right: 20px; background: var(--turquesa);
      color: #fff; border: none; border-radius: 50%; width: 55px; height: 55px;
      font-size: 22px; cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      z-index: 1000; display: flex; align-items: center; justify-content: center;
    }

    /* GRID PRODUCTOS */
    .featured-products { padding: 40px 0; }
    .section-title { text-align: center; margin-bottom: 30px; font-size: 26px; color: var(--morado); }
    
    .products-grid-ten {
      display: grid;
      gap: 20px;
      grid-template-columns: repeat(5, 1fr);
    }

    .product-card {
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      transition: 0.3s;
    }

    .product-image-container {
      position: relative;
      width: 100%;
      height: 250px;
      overflow: hidden;
    }

    .product-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: 0.5s ease;
    }

    .product-image.back { position: absolute; top: 0; left: 0; opacity: 0; }

    .product-card:hover .product-image.front { opacity: 0; }
    .product-card:hover .product-image.back { opacity: 1; }

    .product-info { padding: 15px; flex: 1; display: flex; flex-direction: column; }
    .product-category { font-size: 12px; color: #888; text-transform: uppercase; }
    .product-name { font-size: 15px; font-weight: 600; margin: 5px 0; color: #333; height: 40px; overflow: hidden; }
    .product-desc-short { font-size: 12px; color: #666; margin-bottom: 10px; height: 35px; overflow: hidden; }
    .current-price { font-size: 18px; font-weight: 700; color: var(--turquesa); margin-bottom: 12px; }

    .btn-buy {
      background: var(--turquesa);
      color: #fff;
      border: none;
      padding: 10px;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      width: 100%;
      transition: 0.3s;
    }

    .btn-buy:hover { background: var(--turquesaOsc); }

    @media (max-width: 1024px) { .products-grid-ten { grid-template-columns: repeat(3, 1fr); } }
    @media (max-width: 600px) { .products-grid-ten { grid-template-columns: repeat(2, 1fr); } }

    /* GARANT√çAS */
    .guarantees { background: #fff; padding: 30px 0; border-top: 1px solid #eee; }
    .flex-guarantees { display: flex; justify-content: space-around; flex-wrap: wrap; gap: 20px; }
    .guarantee-item { text-align: center; max-width: 200px; }
    .guarantee-item i { font-size: 24px; color: var(--morado); margin-bottom: 10px; }

    /* BANNERS INFERIORES */
    #banner-div {
      position: fixed; bottom: 0; left: 0; right: 0;
      display: flex; z-index: 999; box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
    }
    .bottom-info-bar {
      flex: 1; padding: 10px; text-align: center; color: #fff; font-weight: 600; font-size: 14px;
    }

    /* FOOTER */
    footer { background: var(--celeste); padding: 40px 0; color: #222; margin-bottom: 40px; }
    .footer-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; }

    /* MODALES */
    .modal-overlay {
      display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.6); z-index: 2000;
    }
    .modal-content {
      background: #fff; width: 90%; max-width: 500px; margin: 50px auto;
      border-radius: 12px; padding: 20px; position: relative;
    }
    #cart-items { max-height: 300px; overflow-y: auto; margin: 15px 0; }
    .noti-toast {
      position: fixed; bottom: 60px; left: 50%; transform: translateX(-50%);
      background: #333; color: #fff; padding: 10px 20px; border-radius: 30px; z-index: 3000; display: none;
    }
  </style>
</head>
<body>

  <div id="cart-icon"><i class="fas fa-shopping-cart"></i><span id="cart-badge">0</span></div>
  <button id="btn-lupa"><i class="fas fa-search"></i></button>
  <div id="noti-add" class="noti-toast"></div>

  <div id="banner-div">
    <div id="banner-envio" class="bottom-info-bar" style="background: #ff9800;">üöö Env√≠o gratis desde $50</div>
    <div id="banner-sorteo" class="bottom-info-bar" style="background: var(--morado);">üéâ Participa en nuestra rifa</div>
  </div>

  <div class="top-bar">
    <div class="container flex-space">
      <div class="social-icons">
        <a href="#"><i class="fab fa-tiktok"></i></a>
        <a href="#"><i class="fab fa-facebook"></i></a>
        <a href="#"><i class="fab fa-instagram"></i></a>
      </div>
      <span><i class="fas fa-check-circle"></i> COMPRA SEGURA EN ECUADOR</span>
    </div>
  </div>

  <header class="main-header">
    <div class="container flex-space">
      <div class="logo-section">
        <img src="logo-ballena.png" alt="Logo" class="whale-icon">
        <div class="brand-text">
          <h1>BHALLEFFORT</h1>
          <p>Lo mejor al mejor precio</p>
        </div>
      </div>
      <div class="dual-buttons">
        <a href="super-rifas.html" class="btn-rifas">üéâ Ver Rifas</a>
        <a href="https://wa.me/593963923399" class="btn-wa"><i class="fab fa-whatsapp"></i> WhatsApp</a>
      </div>
    </div>
  </header>

  <nav class="main-nav">
    <div class="container">
      <ul>
        <li><a href="index.html">INICIO</a></li>
        <li><a href="ropa.html">ROPA</a></li>
        <li><a href="zapatos.html">ZAPATOS</a></li>
        <li><a href="varios.html" class="active">VARIOS</a></li>
        <li><a href="promociones.html">PROMOCIONES</a></li>
        <li><a href="contacto.html">CONTACTO</a></li>
      </ul>
    </div>
  </nav>

  <section class="hero-banner">
    <div>
      <h1>ART√çCULOS VARIOS</h1>
      <p>Todo lo que necesitas para tu hogar y estilo de vida</p>
    </div>
  </section>

  <section class="featured-products">
    <div class="container">
      <h2 class="section-title">‚ú® NUEVOS INGRESOS ‚ú®</h2>
      <div class="products-grid-ten" id="products-grid">
        </div>
    </div>
  </section>

  <section class="guarantees">
    <div class="container flex-guarantees">
      <div class="guarantee-item"><i class="fas fa-truck-moving"></i><br><strong>ENV√çO NACIONAL</strong><p>A todo el pa√≠s</p></div>
      <div class="guarantee-item"><i class="fas fa-shield-alt"></i><br><strong>PAGO SEGURO</strong><p>100% confiable</p></div>
      <div class="guarantee-item"><i class="fas fa-undo"></i><br><strong>GARANT√çA</strong><p>De satisfacci√≥n</p></div>
    </div>
  </section>

  <footer>
    <div class="container footer-grid">
      <div>
        <h3>BHALLEFFORT</h3>
        <p>Dios te da m√°s de lo que pides.</p>
        <p>Dise√±ado por Jhomac¬≤</p>
      </div>
      <div>
        <h3>ENLACES</h3>
        <p><a href="politicas.html">Pol√≠ticas de Env√≠o</a></p>
        <p><a href="politicas.html">T√©rminos y Condiciones</a></p>
      </div>
    </div>
  </footer>

  <div id="cart-modal" class="modal-overlay">
    <div class="modal-content">
      <button id="close-cart" style="float:right; border:none; font-size:24px; cursor:pointer;">&times;</button>
      <h3>Mi Carrito üêã</h3>
      <div id="cart-items"></div>
      <div style="border-top: 1px solid #eee; padding-top: 10px;">
        <div class="flex-space"><strong>Subtotal:</strong> <span id="cart-subtotal">$0.00</span></div>
        <div class="flex-space"><strong>Env√≠o:</strong> <span id="cart-shipping">$3.50</span></div>
        <div class="flex-space" style="font-size:20px; color:var(--morado);"><strong>Total:</strong> <span id="cart-total">$0.00</span></div>
        <button id="btn-send-wa" class="btn-wa" style="width:100%; margin-top:15px; border:none; cursor:pointer;">Pedir por WhatsApp</button>
      </div>
    </div>
  </div>

  <div id="search-modal" class="modal-overlay">
    <div class="modal-content">
      <button id="close-search" style="float:right; border:none; font-size:24px; cursor:pointer;">&times;</button>
      <h3>Buscar en Varios</h3>
      <input type="text" id="search-input" placeholder="¬øQu√© est√°s buscando?" style="width:100%; padding:10px; margin-top:10px; border:1px solid #ccc; border-radius:5px;">
      <div id="search-results" style="margin-top:15px; max-height:250px; overflow-y:auto;"></div>
    </div>
  </div>

  <script>
    let productosData = [];
    let carrito = JSON.parse(localStorage.getItem('bh-cart')) || [];

    // Cargar datos del JSON
    async function cargarProductos() {
      try {
        const response = await fetch('productos.json');
        const data = await response.json();
        productosData = data.filter(p => p.cat === "Varios");
        renderizarGrid();
      } catch (error) {
        console.error("Error al cargar productos:", error);
      }
    }

    // Dibujar en el grid
    function renderizarGrid() {
      const container = document.getElementById('products-grid');
      container.innerHTML = productosData.map(p => `
        <article class="product-card">
          <div class="product-image-container">
            <img src="${p.img}" class="product-image front" alt="${p.nombre}">
            <img src="${p.imgBack || p.img}" class="product-image back" alt="${p.nombre}">
          </div>
          <div class="product-info">
            <span class="product-category">${p.cat}</span>
            <h4 class="product-name">${p.nombre}</h4>
            <p class="product-desc-short">${p.desc || 'Lo mejor de BHALLEFFORT'}</p>
            <div class="current-price">$${p.precio.toFixed(2)}</div>
            <button class="btn-buy" onclick="agregarAlCarrito('${p.id}', '${p.nombre}', ${p.precio})">
              <i class="fas fa-cart-plus"></i> A√±adir
            </button>
          </div>
        </article>
      `).join('');
    }

    // Funciones de Carrito
    function agregarAlCarrito(id, nombre, precio) {
      carrito.push({ id, nombre, precio });
      localStorage.setItem('bh-cart', JSON.stringify(carrito));
      actualizarInterfaz();
      mostrarNotificacion(`‚úÖ ${nombre} a√±adido`);
    }

    function actualizarInterfaz() {
      const badge = document.getElementById('cart-badge');
      badge.textContent = carrito.length;

      const subtotal = carrito.reduce((acc, item) => acc + item.precio, 0);
      const envio = (subtotal >= 50 || subtotal === 0) ? 0 : 3.50;
      
      // Actualizar Banners Din√°micos
      const bEnvio = document.getElementById('banner-envio');
      const bSorteo = document.getElementById('banner-sorteo');

      if(subtotal >= 50) {
        bEnvio.style.background = "#25D366";
        bEnvio.textContent = "‚úÖ ¬°Env√≠o GRATIS activado!";
      } else {
        bEnvio.style.background = "#ff9800";
        bEnvio.textContent = "üöö Env√≠o gratis desde $50";
      }

      if(subtotal >= 30) {
        bSorteo.style.background = "#25D366";
        bSorteo.textContent = "üéâ ¬°Est√°s participando en la Rifa!";
      } else {
        bSorteo.style.background = "var(--morado)";
        bSorteo.textContent = "üéâ Participa en nuestra rifa mensual";
      }
    }

    function mostrarNotificacion(msj) {
      const toast = document.getElementById('noti-add');
      toast.textContent = msj;
      toast.style.display = 'block';
      setTimeout(() => toast.style.display = 'none', 2500);
    }

    // Abrir Carrito
    document.getElementById('cart-icon').onclick = () => {
      const list = document.getElementById('cart-items');
      const subtotal = carrito.reduce((acc, item) => acc + item.precio, 0);
      const envio = (subtotal >= 50 || subtotal === 0) ? 0 : 3.50;

      list.innerHTML = carrito.map((item, index) => `
        <div style="display:flex; justify-content:space-between; margin-bottom:10px; border-bottom:1px solid #eee; padding-bottom:5px;">
          <span>${item.nombre}</span>
          <div>
            <strong>$${item.precio.toFixed(2)}</strong>
            <button onclick="eliminarDelCarrito(${index})" style="background:none; border:none; color:red; margin-left:10px; cursor:pointer;">üóëÔ∏è</button>
          </div>
        </div>
      `).join('');

      document.getElementById('cart-subtotal').textContent = `$${subtotal.toFixed(2)}`;
      document.getElementById('cart-shipping').textContent = `$${envio.toFixed(2)}`;
      document.getElementById('cart-total').textContent = `$${(subtotal + envio).toFixed(2)}`;
      document.getElementById('cart-modal').style.display = 'block';
    };

    function eliminarDelCarrito(index) {
      carrito.splice(index, 1);
      localStorage.setItem('bh-cart', JSON.stringify(carrito));
      actualizarInterfaz();
      document.getElementById('cart-icon').click(); // Recargar modal
    }

    // WhatsApp
    document.getElementById('btn-send-wa').onclick = () => {
      if(carrito.length === 0) return alert("El carrito est√° vac√≠o");
      const subtotal = carrito.reduce((acc, item) => acc + item.precio, 0);
      const envio = subtotal >= 50 ? 0 : 3.50;
      let texto = "üêã *NUEVO PEDIDO (VARIOS)*\n\n";
      carrito.forEach((p, i) => { texto += `${i+1}. ${p.nombre} - $${p.precio.toFixed(2)}\n`; });
      texto += `\nüíµ *Total a pagar:* $${(subtotal + envio).toFixed(2)}`;
      window.open(`https://wa.me/593963923399?text=${encodeURIComponent(texto)}`, '_blank');
    };

    // Buscador
    document.getElementById('btn-lupa').onclick = () => document.getElementById('search-modal').style.display = 'block';
    document.getElementById('search-input').oninput = (e) => {
      const term = e.target.value.toLowerCase();
      const results = document.getElementById('search-results');
      if(!term) { results.innerHTML = ''; return; }
      const filtrados = productosData.filter(p => p.nombre.toLowerCase().includes(term));
      results.innerHTML = filtrados.map(p => `
        <div onclick="agregarAlCarrito('${p.id}', '${p.nombre}', ${p.precio}); document.getElementById('search-modal').style.display='none';" style="padding:10px; border-bottom:1px solid #eee; cursor:pointer;">
          ${p.nombre} - <strong>$${p.precio.toFixed(2)}</strong>
        </div>
      `).join('');
    };

    // Cerrar Modales
    document.getElementById('close-cart').onclick = () => document.getElementById('cart-modal').style.display = 'none';
    document.getElementById('close-search').onclick = () => document.getElementById('search-modal').style.display = 'none';

    // Inicio
    cargarProductos();
    actualizarInterfaz();
  </script>
</body>
</html>
